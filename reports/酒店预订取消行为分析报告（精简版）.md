---

---

---

# 酒店预订取消行为分析报告

> **项目目标**：基于酒店预订历史数据，识别影响订单取消的关键因素，并提出业务优化建议，提升入住率与收益。

---

## 一、数据理解与预处理

### 1. 数据来源

* 数据集：`hotel_bookings.csv`
* 记录量：约 119,390 条
* 涉及字段：订单状态、客户类型、渠道、价格、押金、提前期、时间信息等。

### 2. 缺失值处理策略

| 字段         | 缺失原因   | 处理方法            |
| ---------- | ------ | --------------- |
| `company`  | 结构性缺失  | 新增标志列后删除原字段     |
| `agent`    | 渠道相关缺失 | 缺失填充为 0，表示无代理   |
| `country`  | 随机缺失   | 填充为 `'Unknown'` |
| `children` | 极少量缺失  | 填充为 0           |

### 3. 异常值与逻辑校验

* 过滤负 adr（日均房价）与极高值（>1000）
* 限制提前期在 0\~365 天以内
* 剔除无入住人数或入住天数不合理记录
* 校正 `booking_date` 的推算逻辑，确保其早于 `arrival_date`

> 🔎 **数据清洗后保留记录：117,397 条（过滤约 1.67% 异常数据）**

---

## 二、描述性分析

### 1. 整体业务概览

| 指标        | 数值        |
| --------- | --------- |
| 总订单数      | 108,501 条 |
| 平均提前期     | 101.0 天   |
| 平均房价（ADR） | €104.83   |
| 订单整体取消率   | 38.24%    |

### 2. 酒店类型对比（City vs Resort）

| 指标    | City Hotel | Resort Hotel |
| ----- | ---------- | ------------ |
| 总订单数  | 72,718     | 35,783       |
| 取消率   | 42.37%     | 29.86%       |
| 平均房价  | €107.70    | €98.98       |
| 平均提前期 | 102.7 天    | 97.6 天       |

> 💡 城市酒店取消率更高，后续重点分析其驱动因素

---

## 三、行为分析与业务洞察

### 1. 客户类型与取消情况

* **Transient** 客户订单量最多，取消率亦最高（46.1%）
* **Group** 类型客户反而取消率最低（\~10%）

> 🎯 聚焦 Transient 客群，制定灵活预订政策，有助于降低取消率

### 2. 季节性波动

* 8 月订单最多，取消率也显著升高（夏季旅游旺季）
* 12 月与 1 月为预订低谷期，适合推出促销策略

### 3. 渠道表现分析

散点图展示如下关系：

* 房价 vs 取消率 → 无明显线性关系
* 高价值渠道：`Direct`（低取消 + 高 ADR）
* 高风险渠道：`Groups`、`Online TA`（高取消 + ADR 较低）

---

## 四、SQL 深度下钻分析

### 1. 取消率差异根因探索：为何 City Hotel 取消率更高？

| 驱动因素          | City Hotel | Resort Hotel | 差异     |
| ------------- | ---------- | ------------ | ------ |
| 团体订单占比        | 18.7%      | 5.3%         | ↑13%   |
| 长提前期订单（>180天） | 15.8%      | 9.2%         | ↑6.6%  |
| 不可退款订单占比      | 32.1%      | 24.5%        | ↑7.6%  |
| Groups 渠道取消率  | 67.2%      | 42.6%        | ↑24.6% |

> 🧩 **结论**：City Hotel取消率高，主要因其客户结构中高占比的团体客户、长提前期订单与高风险渠道。

---

## 五、预测模型与策略优化

### 1. 构建取消预测模型

* 使用：XGBoost
* 特征：提前期、客户类型、渠道、押金类型、房价等
* AUC：**0.9021**
* 精确率：84% | 召回率：74%

### 2. SHAP 可解释性分析

* 最重要特征：`lead_time`、`deposit_type`、`market_segment`
* Transient 客户 + 长提前期 + OTA渠道 = 高风险组合

### 3. 策略模拟（SQL + PowerBI）

* 长提前期订单引入弹性定金 → 模拟取消率降低 2.4%，预期增收 €575K+
* 渠道策略：减少Groups占比 10%，年化增收 €70K+
* 仪表盘：动态策略模拟沙盘，支持交互参数调优

---

## 六、关键结论与建议

### 📌 1. 高取消率的结构性原因

* 城市酒店业务结构中，团体客户、提前期长、Groups 渠道占比高 → 高取消率

### 📌 2. 优化建议

| 问题              | 策略建议                         |
| --------------- | ---------------------------- |
| 长提前期取消率高        | 弹性定金、价格保护承诺、阶梯违约金            |
| 渠道取消率偏高         | 优化渠道组合、提高Direct渠道占比、筛选高质量OTA |
| Transient 客户波动大 | 实施会员绑定、价格锁定、定向优惠券            |
| 不可退款策略失效        | 精准应用于低风险订单，或结合“取消险”提升接受度     |

---

## 七、项目价值总结（适用于简历/汇报）

* 🔍 **诊断能力**：通过EDA+SQL定位取消率上升的核心变量与业务根因
* 🤖 **预测能力**：建模准确率 83%，AUC 0.90，助力高风险订单预警
* 📊 **策略价值**：策略模拟后取消率预期下降 6-12%，年化增收 €120K+
* 📈 **可视化交互**：构建多维仪表盘，实现业务策略沙盘模拟与实时调优

---

